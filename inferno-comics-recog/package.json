{
  "name": "inferno-comics-recog",
  "version": "0.0.1",
  "scripts": {
    "start": "python3 src/recog.py",
    "docker:build-compile": "export PROJECT=$(jq -r .name package.json) && docker buildx build --target build-stage --build-arg BUILDKIT_INLINE_CACHE=1 --build-arg PROJECT=$PROJECT -t infernokun/${npm_package_name}:compile .",
    "docker:build-runtime": "export PROJECT=$(jq -r .name package.json) && export VERSION=$(jq -r .version package.json) && PORT=$(jq -r .port package.json) && docker buildx build --target runtime-stage --build-arg BUILDKIT_INLINE_CACHE=1 --build-arg PORT=$PORT --build-arg PROJECT=$PROJECT -t infernokun/${npm_package_name}:$VERSION -t infernokun/${npm_package_name}:latest .",
    "docker:push": "export PROJECT=$(jq -r .name package.json) && export VERSION=$(jq -r .version package.json) && docker push infernokun/$PROJECT:$VERSION && docker push infernokun/$PROJECT:latest",
    "docker:build": "pnpm run docker:build-compile && pnpm run docker:build-runtime && pnpm run docker:push"
  }
}
